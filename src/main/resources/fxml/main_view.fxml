<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>


<BorderPane xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
            fx:controller="it.unicam.cs.mpgc.jtime119159.view.MainController"
            prefHeight="650.0" prefWidth="900.0">
    <top>
        <MenuBar>
            <Menu text="File"><MenuItem text="Esci" onAction="#handleExit"/></Menu>
        </MenuBar>
    </top>
    <center>
        <TabPane tabClosingPolicy="UNAVAILABLE">
            <!-- SCHEDA GESTIONE PROGETTI -->
            <Tab text="Progetti e Task">
                <SplitPane dividerPositions="0.3">
                    <VBox spacing="10" style="-fx-padding: 10;">
                        <Label text="Lista Progetti" style="-fx-font-weight: bold;"/>
                        <ListView fx:id="projectListView" VBox.vgrow="ALWAYS"/>
                        <HBox spacing="5">
                            <Button text="Nuovo" onAction="#handleNewProject" maxWidth="Infinity" HBox.hgrow="ALWAYS"/>
                            <Button text="Chiudi" onAction="#handleCloseProject" maxWidth="Infinity" HBox.hgrow="ALWAYS"/>
                        </HBox>
                        <HBox spacing="5">
                            <Button text="Riapri" onAction="#handleReopenProject" maxWidth="Infinity" HBox.hgrow="ALWAYS"/>
                            <Button text="Elimina" onAction="#handleDeleteProject" maxWidth="Infinity" HBox.hgrow="ALWAYS" style="-fx-base: #ff6666;"/>
                        </HBox>
                    </VBox>
                    <VBox spacing="10" style="-fx-padding: 10;">
                        <Label text="Attività del Progetto" style="-fx-font-weight: bold;"/>
                        <TableView fx:id="taskTableView" VBox.vgrow="ALWAYS">
                            <columns>
                                <TableColumn fx:id="colTitle" text="Titolo" prefWidth="150"/>
                                <TableColumn fx:id="colPriority" text="Priorità" prefWidth="80"/>
                                <TableColumn fx:id="colStatus" text="Stato" prefWidth="100"/>
                                <TableColumn fx:id="colEstimated" text="Stima (h)" prefWidth="70"/>
                                <TableColumn fx:id="colActual" text="Effettivo (h)" prefWidth="80"/>
                            </columns>
                        </TableView>
                        <HBox spacing="10">
                            <Button text="Aggiungi Task" onAction="#handleNewTask"/>
                            <Button text="Completa Task" onAction="#handleCompleteTask" style="-fx-base: #99ff99;"/>
                            <Button text="Genera Report Progetto" onAction="#handleProjectReport"/>
                        </HBox>
                    </VBox>
                </SplitPane>
            </Tab>

            <!-- SCHEDA PIANIFICAZIONE -->
            <Tab text="Pianificazione e Carico">
                <VBox spacing="15" style="-fx-padding: 20;">
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <Label text="Seleziona Giorno:"/>
                        <DatePicker fx:id="planningDatePicker" onAction="#handleLoadPlanning"/>
                    </HBox>
                    <Separator/>
                    <Label fx:id="effortLabel" text="Impegno totale: 0.0 ore" style="-fx-font-size: 16;"/>
                    <TableView fx:id="planningTableView" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="colPlanTitle" text="Titolo"/>
                            <TableColumn fx:id="colPlanProject" text="Progetto"/>
                            <TableColumn fx:id="colPlanTime" text="Tempo Stimato"/>
                        </columns>
                    </TableView>
                </VBox>
            </Tab>
        </TabPane>
    </center>
</BorderPane>
